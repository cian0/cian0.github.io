(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[37],{1071:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/retro-chat-connect",function(){return s(5125)}])},5125:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return l}});var r=s(5893),a=s(7294);s(1664);var n=s(3977),o=s(1019);let c=(0,n.ZF)({apiKey:"AIzaSyC3CrUNAGRVhqeYO5sZho_6ESTwv8VJrTs",authDomain:"cian0-4823e.firebaseapp.com",projectId:"cian0-4823e",storageBucket:"cian0-4823e.appspot.com",messagingSenderId:"787470014397",databaseURL:"https://cian0-4823e-default-rtdb.firebaseio.com/",appId:"1:787470014397:web:3213c3fa4a105d9a4c64d4",measurementId:"G-FEWCH0C7LM"}),i=(0,o.N8)(c);var u=()=>{let[e,t]=(0,a.useState)([]),[s,n]=(0,a.useState)(""),[c,u]=(0,a.useState)(""),[l,d]=(0,a.useState)(""),[m,h]=(0,a.useState)(!1),D=(0,a.useRef)(null);return(0,a.useEffect)(()=>{var e;null===(e=D.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},[e]),(0,r.jsx)("div",{className:"retro-container",children:(0,r.jsxs)("div",{className:"retro-post",children:[(0,r.jsx)("div",{className:"retro-header",children:"\uD83D\uDCAC Retro Chat Connect \uD83D\uDCE1"}),m?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"retro-section retro-chat-container",children:[e.map((e,t)=>(0,r.jsxs)("div",{className:"retro-message ".concat(e.sender===c?"retro-message-self":""),children:[(0,r.jsx)("span",{className:"retro-message-sender",children:e.sender!==c&&"".concat(e.sender,": ")}),(0,r.jsx)("span",{className:"retro-message-text",children:e.text})]},t)),(0,r.jsx)("div",{ref:D})]}),(0,r.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),s.trim()&&c&&l){let e=(0,o.iH)(i,"rooms/".concat(l,"/messages"));(0,o.VF)(e,{text:s,sender:c,timestamp:Date.now()}),n("")}},className:"retro-section",children:[(0,r.jsx)("input",{type:"text",className:"retro-input",value:s,onChange:e=>n(e.target.value),placeholder:"Type your message..."}),(0,r.jsx)("div",{className:"retro-emoji-container",children:["\uD83D\uDE0A","\uD83D\uDE02","❤️","\uD83D\uDC4D","\uD83C\uDFAE","\uD83D\uDD79️","\uD83D\uDC7E","\uD83D\uDE80"].map(e=>(0,r.jsx)("button",{type:"button",className:"retro-emoji-button",onClick:()=>n(s+e),children:e},e))}),(0,r.jsx)("button",{type:"submit",className:"retro-button",children:"\uD83D\uDCE4 Send"})]})]}):(0,r.jsxs)("div",{className:"retro-section",children:[(0,r.jsx)("input",{type:"text",className:"retro-input",placeholder:"Enter your username",value:c,onChange:e=>u(e.target.value)}),(0,r.jsx)("input",{type:"text",className:"retro-input",placeholder:"Enter room ID",value:l,onChange:e=>d(e.target.value)}),(0,r.jsx)("button",{className:"retro-button",onClick:()=>{if(c&&l){let e=(0,o.iH)(i,"rooms/".concat(l));(0,o.t8)(e,{active:!0}),h(!0),(0,o.yv)((0,o.iH)(i,"rooms/".concat(l,"/messages")),e=>{let s=e.val();t(e=>[...e,s])})}},children:"\uD83D\uDE80 Join Room"})]})]})})},l=()=>(0,r.jsx)("div",{className:"retro-container",children:(0,r.jsxs)("div",{className:"retro-post",children:[(0,r.jsx)("div",{className:"retro-header",children:"\uD83D\uDCAC Retro Chat Connect \uD83D\uDCE1"}),(0,r.jsxs)("div",{className:"retro-section",children:[(0,r.jsx)("p",{className:"retro-text",children:"Welcome to Retro Chat Connect!"}),(0,r.jsx)("p",{className:"retro-text",children:"Share your unique room ID with a friend to start chatting."})]}),(0,r.jsx)(u,{})]})})}},function(e){e.O(0,[627,142,888,774,179],function(){return e(e.s=1071)}),_N_E=e.O()}]);