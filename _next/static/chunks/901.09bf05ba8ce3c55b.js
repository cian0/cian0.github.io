"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[901],{3901:function(e,t,r){r.r(t);var n=r(5893),s=r(7294);let a=[{x:10,y:10}],i={x:1,y:0},l={x:15,y:15};t.default=()=>{let[e,t]=(0,s.useState)(a),[r,o]=(0,s.useState)(i),[c,u]=(0,s.useState)(l),[d,x]=(0,s.useState)(!1),[h,y]=(0,s.useState)(0),[m,f]=(0,s.useState)(20),[w,p]=(0,s.useState)(20),k=(0,s.useRef)(null);(0,s.useEffect)(()=>{let e=()=>{let e=Math.min(window.innerWidth,window.innerHeight)-40,t=Math.floor(e/20);f(t),p(e/t)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);let g=(0,s.useCallback)(()=>{let t;do t={x:Math.floor(Math.random()*m),y:Math.floor(Math.random()*m)};while(e.some(e=>e.x===t.x&&e.y===t.y));return t},[m,e]),b=(0,s.useCallback)(()=>{if(d)return;let n=[...e],s={...n[0]};if(s.x+=r.x,s.y+=r.y,s.x<0||s.x>=m||s.y<0||s.y>=m||n.some(e=>e.x===s.x&&e.y===s.y)){x(!0);return}n.unshift(s),s.x===c.x&&s.y===c.y?(y(e=>e+1),u(g())):n.pop(),t(n)},[e,r,c,d,m,g]),v=(0,s.useCallback)(e=>{if(d)return;let t=k.current.getBoundingClientRect(),r=e.clientX-t.left,n=e.clientY-t.top,s=t.width/2,a=t.height/2,i=r-s,l=n-a;Math.abs(i)>Math.abs(l)?o({x:i>0?1:-1,y:0}):o({x:0,y:l>0?1:-1})},[d]);return(0,s.useEffect)(()=>{let e=e=>{switch(e.key){case"ArrowUp":0===r.y&&o({x:0,y:-1});break;case"ArrowDown":0===r.y&&o({x:0,y:1});break;case"ArrowLeft":0===r.x&&o({x:-1,y:0});break;case"ArrowRight":0===r.x&&o({x:1,y:0})}};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[r]),(0,s.useEffect)(()=>{let e=setInterval(b,200);return()=>clearInterval(e)},[b]),(0,n.jsxs)("div",{className:"nes-container with-title",children:[(0,n.jsx)("p",{className:"title",children:"Emoji Snake Game"}),(0,n.jsx)("div",{ref:k,onClick:v,onTouchStart:v,style:{display:"grid",gridTemplateColumns:"repeat(".concat(m,", ").concat(w,"px)"),gap:"1px",backgroundColor:"#000",border:"1px solid #000",width:"fit-content",margin:"0 auto",cursor:"pointer"},children:Array.from({length:m*m}).map((t,r)=>{let s=r%m,a=Math.floor(r/m),i=e.some(e=>e.x===s&&e.y===a),l=c.x===s&&c.y===a,o="\uD83D\uDFE9";return i&&(o="\uD83D\uDC0D"),l&&(o="\uD83C\uDF4E"),(0,n.jsx)("div",{style:{width:w,height:w,fontSize:"16px",textAlign:"center"},children:o},r)})}),(0,n.jsxs)("div",{className:"nes-container is-rounded",style:{marginTop:"1rem"},children:[(0,n.jsxs)("p",{children:["Score: ",h]}),d&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("p",{className:"nes-text is-error",children:"Game Over!"}),(0,n.jsx)("button",{className:"nes-btn is-primary",onClick:()=>{t(a),o(i),u(l),x(!1),y(0)},children:"Restart"})]})]})]})}}}]);