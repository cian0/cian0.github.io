!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):t(jQuery)}(function(t){var e="waitForImages";t.waitForImages={hasImageProperties:["backgroundImage","listStyleImage","borderImage","borderCornerImage","cursor"],hasImageAttributes:["srcset"]},t.expr[":"]["has-src"]=function(e){return t(e).is('img[src][src!=""]')},t.expr[":"].uncached=function(e){return!!t(e).is(":has-src")&&!e.complete},t.fn.waitForImages=function(){var n,o,i,a=0,s=0,r=t.Deferred();if(t.isPlainObject(arguments[0])?(i=arguments[0].waitForAll,o=arguments[0].each,n=arguments[0].finished):1===arguments.length&&"boolean"===t.type(arguments[0])?i=arguments[0]:(n=arguments[0],o=arguments[1],i=arguments[2]),n=n||t.noop,o=o||t.noop,i=!!i,!t.isFunction(n)||!t.isFunction(o))throw new TypeError("An invalid callback was supplied.");return this.each(function(){var c=t(this),p=[],u=t.waitForImages.hasImageProperties||[],l=t.waitForImages.hasImageAttributes||[],d=/url\(\s*(['"]?)(.*?)\1\s*\)/g;i?c.find("*").addBack().each(function(){var e=t(this);e.is("img:has-src")&&!e.is("[srcset]")&&p.push({src:e.attr("src"),element:e[0]}),t.each(u,function(t,n){var o,i=e.css(n);if(!i)return!0;for(;o=d.exec(i);)p.push({src:o[2],element:e[0]})}),t.each(l,function(t,n){var o=e.attr(n);return!o||void p.push({src:e.attr("src"),srcset:e.attr("srcset"),element:e[0]})})}):c.find("img:has-src").each(function(){p.push({src:this.src,element:this})}),a=p.length,s=0,0===a&&(n.call(c[0]),r.resolveWith(c[0])),t.each(p,function(i,p){var u=new Image,l="load."+e+" error."+e;t(u).one(l,function d(e){var i=[s,a,"load"==e.type];return s++,o.apply(p.element,i),r.notifyWith(p.element,i),t(this).off(l,d),s==a?(n.call(c[0]),r.resolveWith(c[0]),!1):void 0}),p.srcset&&(u.srcset=p.srcset),u.src=p.src})}),r.promise()}}),function(t){t(window.jQuery,window,document)}(function(t,e,n){var o={daily_convo_id:null,response_key:1e3},i=500,a=[];t(function(){a.Init()}),a={Init:function(){a.Page.init(),a.Listener.init(),a.Loading.init()},Page:{init:function(){var n={width:360,height:640},o={width:t(e).innerWidth(),height:t(e).innerHeight()};a.Page.ComputeSize.init(n,o),t("div.page-wrapper").offset().left>5&&t("div.container").addClass("withBG");var i=a.Event.Mobile.getQueryStringValue("user_uuid"),s=a.Event.Mobile.getQueryStringValue("convo_uuid");i=i?a.Event.Mobile.getQueryStringValue("user_uuid"):a.Event.Mobile.generateUUID(),s=s?a.Event.Mobile.getQueryStringValue("convo_uuid"):a.Event.Mobile.generateUUID();try{AppIMFree.setParams({convo_uuid:s,user_uuid:i}).send(function(t){})}catch(r){console.log(r)}},ComputeSize:{init:function(e,n){var o=a.Page.ComputeSize.byHeight(e,n);t("div.page-wrapper").css({width:o.width,height:o.height})},byHeight:function(t,e){var n=e.height/t.height*100/100,o={width:t.width*n,height:t.height*n};return 1*e.width.toFixed(2)<1*o.width.toFixed(2)?a.Page.ComputeSize.byWidth(t,e):o},byWidth:function(t,e){var n=e.width/t.width*100/100,o={width:t.width*n,height:t.height*n};return 1*e.height.toFixed(2)<1*o.height.toFixed(2)?a.Page.ComputeSize.byHeight(t,e):o}}},Loading:{init:function(){t("body").waitForImages().done(a.Loading.hide)},hide:function(){setTimeout(function(){t("div.page.loading").hide()},i)}},Listener:{init:function(){t("#endConvo").on("click",a.Event.Mobile.finishConvo),t("#cancelConvo").on("click",a.Event.Mobile.cancelConvo)}},Event:{Mobile:{finishConvo:function(){AppGa.send({eventLabel:"End Convo"}),"undefined"!=typeof payload&&"undefined"!=typeof itemSelected&&(o.response_key=payload[itemSelected]||null);try{AppIMFree.setParams({is_completed_flag:!0}).send(function(t){a.Event.Mobile.closeConvo()})}catch(t){a.Event.Mobile.closeConvo()}},closeConvo:function(){var t=e.endConvoDelay||0;setTimeout(function(){Android.finishConvo(JSON.stringify(o))},t)},cancelConvo:function(){AppGa.send({eventLabel:"Cancel Convo"}),Android.cancelConvo()},generateUUID:function(){var t=(new Date).getTime(),e="xxxx".replace(/[xy]/g,function(e){var n=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"==e?n:3&n|8).toString(16)});return e},getQueryStringValue:function(t){return decodeURIComponent(e.location.search.replace(new RegExp("^(?:.*[&\\?]"+encodeURIComponent(t).replace(/[\.\+\*]/g,"\\$&")+"(?:\\=([^&]*))?)?.*$","i"),"$1"))}}}},e.AppUtils=a}),function(t,e,n,o,i,a,s){t.GoogleAnalyticsObject=i,t[i]=t[i]||function(){(t[i].q=t[i].q||[]).push(arguments)},t[i].l=1*new Date,a=e.createElement(n),s=e.getElementsByTagName(n)[0],a.async=1,a.src=o,s.parentNode.insertBefore(a,s)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),function(t){var e=[];e.actions={tap:"Tap",drag:"Drag",swipe:"Swipe",swipeLeft:"Swipe Left",swipeRight:"Swipe Right"},e.metricType={metric:" Convo Metric",nonMetric:" Convo Non-Metric"},e.id="UA-69994854-2",e.event={eventCategory:"",screenName:"",eventAction:e.actions.tap},e.init=function(){return ga("create",this.id,"auto"),this},e.setEventCategory=function(t){return this.event.eventCategory=t,this},e.setScreenName=function(t,n){var o=!0;n===!1&&(o=!1);var i=function(){return o?e.metricType.metric:e.metricType.nonMetric}();this.event.screenName=t+i},e._getEvt=function(t){var e=$.extend({},this.event,t);return e},e.send=function(t){var e=t||{};try{ga("send","event",this._getEvt(e))}catch(n){}},t.AppGa=e}(window);var CryptoJS=CryptoJS||function(t,e){var n={},o=n.lib={},i=function(){},a=o.Base={extend:function(t){i.prototype=this;var e=new i;return t&&e.mixIn(t),e.hasOwnProperty("init")||(e.init=function(){e.$super.init.apply(this,arguments)}),e.init.prototype=e,e.$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},s=o.WordArray=a.extend({init:function(t,n){t=this.words=t||[],this.sigBytes=n!=e?n:4*t.length},toString:function(t){return(t||c).stringify(this)},concat:function(t){var e=this.words,n=t.words,o=this.sigBytes;if(t=t.sigBytes,this.clamp(),o%4)for(var i=0;i<t;i++)e[o+i>>>2]|=(n[i>>>2]>>>24-8*(i%4)&255)<<24-8*((o+i)%4);else if(65535<n.length)for(i=0;i<t;i+=4)e[o+i>>>2]=n[i>>>2];else e.push.apply(e,n);return this.sigBytes+=t,this},clamp:function(){var e=this.words,n=this.sigBytes;e[n>>>2]&=4294967295<<32-8*(n%4),e.length=t.ceil(n/4)},clone:function(){var t=a.clone.call(this);return t.words=this.words.slice(0),t},random:function(e){for(var n=[],o=0;o<e;o+=4)n.push(4294967296*t.random()|0);return new s.init(n,e)}}),r=n.enc={},c=r.Hex={stringify:function(t){var e=t.words;t=t.sigBytes;for(var n=[],o=0;o<t;o++){var i=e[o>>>2]>>>24-8*(o%4)&255;n.push((i>>>4).toString(16)),n.push((15&i).toString(16))}return n.join("")},parse:function(t){for(var e=t.length,n=[],o=0;o<e;o+=2)n[o>>>3]|=parseInt(t.substr(o,2),16)<<24-4*(o%8);return new s.init(n,e/2)}},p=r.Latin1={stringify:function(t){var e=t.words;t=t.sigBytes;for(var n=[],o=0;o<t;o++)n.push(String.fromCharCode(e[o>>>2]>>>24-8*(o%4)&255));return n.join("")},parse:function(t){for(var e=t.length,n=[],o=0;o<e;o++)n[o>>>2]|=(255&t.charCodeAt(o))<<24-8*(o%4);return new s.init(n,e)}},u=r.Utf8={stringify:function(t){try{return decodeURIComponent(escape(p.stringify(t)))}catch(e){throw Error("Malformed UTF-8 data")}},parse:function(t){return p.parse(unescape(encodeURIComponent(t)))}},l=o.BufferedBlockAlgorithm=a.extend({reset:function(){this._data=new s.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=u.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(e){var n=this._data,o=n.words,i=n.sigBytes,a=this.blockSize,r=i/(4*a),r=e?t.ceil(r):t.max((0|r)-this._minBufferSize,0);if(e=r*a,i=t.min(4*e,i),e){for(var c=0;c<e;c+=a)this._doProcessBlock(o,c);c=o.splice(0,e),n.sigBytes-=i}return new s.init(c,i)},clone:function(){var t=a.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0});o.Hasher=l.extend({cfg:a.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){l.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(e,n){return new t.init(n).finalize(e)}},_createHmacHelper:function(t){return function(e,n){return new d.HMAC.init(t,n).finalize(e)}}});var d=n.algo={};return n}(Math);!function(){var t=CryptoJS,e=t.lib,n=e.WordArray,o=e.Hasher,i=[],e=t.algo.SHA1=o.extend({_doReset:function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,e){for(var n=this._hash.words,o=n[0],a=n[1],s=n[2],r=n[3],c=n[4],p=0;80>p;p++){if(16>p)i[p]=0|t[e+p];else{var u=i[p-3]^i[p-8]^i[p-14]^i[p-16];i[p]=u<<1|u>>>31}u=(o<<5|o>>>27)+c+i[p],u=20>p?u+((a&s|~a&r)+1518500249):40>p?u+((a^s^r)+1859775393):60>p?u+((a&s|a&r|s&r)-1894007588):u+((a^s^r)-899497514),c=r,r=s,s=a<<30|a>>>2,a=o,o=u}n[0]=n[0]+o|0,n[1]=n[1]+a|0,n[2]=n[2]+s|0,n[3]=n[3]+r|0,n[4]=n[4]+c|0},_doFinalize:function(){var t=this._data,e=t.words,n=8*this._nDataBytes,o=8*t.sigBytes;return e[o>>>5]|=128<<24-o%32,e[(o+64>>>9<<4)+14]=Math.floor(n/4294967296),e[(o+64>>>9<<4)+15]=n,t.sigBytes=4*e.length,this._process(),this._hash},clone:function(){var t=o.clone.call(this);return t._hash=this._hash.clone(),t}});t.SHA1=o._createHelper(e),t.HmacSHA1=o._createHmacHelper(e)}(),function(t){t(window)}(function(t){var e="http://api-origin.dev.imfreemobile.com:8888",n="tehp.imfreemobile.com",o="SaltedHashImFree:)",i={convo_class_nm:"",convo_uuid:"",partner_id:1,partner_campaign_id:1,partner_flight_id:0,partner_flight_detail_id:0,datapoint_id:0,datapoint_val:"",consumer_type:"",user_uuid:"",is_fragment_flag:!0,is_completed_flag:!1},a="",s=[];s={init:function(t){return s.QueryString.init(),s.Auth.init(t),this},QueryString:{init:function(){url=t.location.href,s.QueryString.getAll(url)},getAll:function(e){e||(e=t.location.href);for(key in i){var n=s.QueryString.getByName(key,e);n&&(i[key]=n)}},getByName:function(e,n){n||(n=t.location.href),e=e.replace(/[\[\]]/g,"\\$&");var o=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)"),i=o.exec(n);return i?i[2]?decodeURIComponent(i[2].replace(/\+/g," ")):"":null}},Auth:{init:function(t){const e=s.Auth.getTSAT(),n=s.Auth.getAppSecret(e);s.Auth.getCredentialConfig(e,n,t)},getTSAT:function(){return Math.floor(Date.now()/1e3)},getAppSecret:function(t){const e=n+t+o;return CryptoJS.SHA1(e)},getCredentialConfig:function(t,e,o){try{var i="/oauth/credentials/"+n+"?app_secret="+e+"&ts_at="+t;s.Http.get(i,function(t){t=JSON.parse(t),t.data&&s.Auth.getAccessToken(t.data,o)})}catch(a){o(a)}},getAccessToken:function(t,e){try{const n="/oauth/tokens",o="grant_type=client_credentials&client_id="+t.client_id+"&client_secret="+t.client_secret;s.Http.post(n,o,"application/x-www-form-urlencoded",function(t){t=JSON.parse(t),t.data&&(a=t.data.access_token),e("done")})}catch(i){e(i)}}},Http:{get:function(t,e){var n=new XMLHttpRequest;n.open("GET",s.Http.getBaseURL()+t,!0),a&&n.setRequestHeader("Authorization","Bearer "),n.onreadystatechange=function(){4==n.readyState&&200==n.status&&e(n.responseText)},n.send(null)},post:function(t,e,n,o){var i=new XMLHttpRequest;i.open("POST",s.Http.getBaseURL()+t,!0),i.setRequestHeader("Content-type",n),a&&i.setRequestHeader("Authorization","Bearer "+a),i.onreadystatechange=function(){4!=i.readyState||200!=i.status&&201!=i.status||o(i.responseText)},i.send(e)},getBaseURL:function(){return e}},setParams:function(t){for(key in t)s.setParamByKey(key,t[key]);return this},setParamByKey:function(t,e){return t in i&&(i[t]=e),this},getParamByKey:function(t){return i[t]},getAllParams:function(){return i},send:function(t){try{const e="/analytics",n=JSON.stringify(i);s.Http.post(e,n,"application/json",function(e){e=JSON.parse(e),t(e.data)})}catch(o){console.log(o)}}},t.AppIMFree=s});var App=[],itemSelected=0,currentItem=0,buttonGroupData=1,payload={0:{}};App={Init:function(){App.Elements.init(),App.Listiner.init(),AppGa.init().setEventCategory(brandName).setScreenName(folderName,metric),isTutorial&&App.Elements.tutorial.addClass("active"),App.Event.Touch.initContent();try{AppIMFree.init(function(t){AppIMFree.setParams({datapoint_id:10,datapoint_val:"default",is_fragment_flag:is_fragment_flag}).send(function(t){})})}catch(t){console.log(t)}},Elements:{init:function(){this.tutorial=$("#tutorial"),this.thankyou=$("#thankyou"),this.endConvo=$("#endConvo"),this.dataInitBotMsg=$("#chat-message-board").data("initial-bot-msg"),this.BotInitMsgArr=App.Elements.dataInitBotMsg.split("|"),this.dataFirstBotQuestion=$("#chat-message-board").data("first-bot-question"),this.BotInitQuestionArr=App.Elements.dataFirstBotQuestion.split("|"),this.chatOptions=$("#chat-options"),this.chatOptionsBtnGrp=$("#chat-options").find(".button-group"),this.chatOptionsButtons=$("#chat-options").find(".button-group button")}},Listiner:{init:function(){App.Elements.chatOptionsButtons.on("click",App.Event.Touch["goto"]),App.Elements.tutorial.on("click",App.Event.Touch.hideTutorial)}},Event:{Touch:{"goto":function(){currentItem++;var t=$(this).data("goto"),e=$(this).data("bot-response"),n=$(this).data("my-response"),o="<p class='my-response'>"+n+"</p>",i=App.Elements.chatOptions.find(".button-group.qid-"+t).data("bot-msg"),a=App.Elements.chatOptions.find(".button-group.qid-"+t).data("bot-question"),s=0;payload[itemSelected][currentItem-1]=n,App.Event.Touch.displayUserResponse(o,"#chat-message-board"),0!=jQuery.trim(e).length?App.Event.Touch.displayBotResponse(e,i,a,"#chat-message-board",t):App.Event.Touch.displayBotMsg(s,i,a,t);try{AppIMFree.setParams({datapoint_id:a,datapoint_val:payload[itemSelected]}).send(function(t){})}catch(r){console.log(r)}},initContent:function(){var t=0,e=App.Elements.BotInitMsgArr;e.length>1?0==t&&(App.Event.Touch.displayMultipleInitBotMsg(t),App.Event.Touch.showLoader("#loader")):0==jQuery.trim(e).length?App.Event.Touch.displayInitBotQuestion():App.Event.Touch.displaySingleInitBotMsg()},displayMultipleInitBotMsg:function(t){var e,n=App.Elements.BotInitMsgArr;setTimeout(function(){""!=n[t]&&(e="<p class='bot-msg'>"+n[t]+"</p>",$(e).appendTo("#chat-message-board"),App.Event.Touch.autoScroll("#chat-message-board"),App.Event.Touch.showLoader("#loader")),t<n.length-1&&(t++,App.Event.Touch.displayMultipleInitBotMsg(t),App.Event.Touch.autoScroll("#chat-message-board"),App.Event.Touch.showLoader("#loader"),t==n.length-1&&setTimeout(function(){App.Event.Touch.displayInitBotQuestion(),App.Event.Touch.autoScroll("#chat-message-board")},delayResponse))},delayResponse)},displaySingleInitBotMsg:function(){var t=App.Elements.BotInitMsgArr,e="<p class='bot-msg'>"+t+"</p>";0!=jQuery.trim(t).length?setTimeout(function(){$(e).appendTo("#chat-message-board"),App.Event.Touch.autoScroll("#chat-message-board"),App.Event.Touch.showLoader("#loader"),setTimeout(function(){App.Event.Touch.displayInitBotQuestion(),App.Event.Touch.autoScroll("#chat-message-board")},delayResponse)},delayResponse):App.Event.Touch.displayInitBotQuestion()},displayInitBotQuestion:function(){var t=App.Elements.BotInitQuestionArr,e="<p class='bot-msg'>"+t+"</p>";0!=jQuery.trim(t).length&&("##endConvo"!=t?setTimeout(function(){$(e).appendTo("#chat-message-board"),App.Event.Touch.autoScroll("#chat-message-board"),App.Event.Touch.showLoader("#loader"),setTimeout(function(){$(".button-group.qid-1").addClass("active"),App.Event.Touch.hideLoader("#loader")},delayResponse)},delayResponse):console.log("show #endConvo"))},displayBotMsg:function(t,e,n,o){var i,a=e.split("|"),s=n,r=o,c=0;a.length>1?0==c&&setTimeout(function(){""!=a[t]&&(i="<p class='bot-msg'>"+a[t]+"</p>",$(i).appendTo("#chat-message-board"),App.Event.Touch.autoScroll("#chat-message-board"),App.Event.Touch.showLoader("#loader")),t<a.length-1&&(t++,App.Event.Touch.displayBotMsg(t,e,n),App.Event.Touch.autoScroll("#chat-message-board"),App.Event.Touch.showLoader("#loader"),t==a.length-1&&setTimeout(function(){"##endConvo"!=s?(App.Event.Touch.displayBotQuestion(s,"#chat-message-board",r),App.Event.Touch.autoScroll("#chat-message-board")):(App.Event.Touch.hideLoader("#loader"),setTimeout(function(){App.Event.Touch.showEndConvo("#endConvo")},delayResponse))},delayResponse))},delayResponse):(i="<p class='bot-msg'>"+a+"</p>",0!=jQuery.trim(a).length?setTimeout(function(){$(i).appendTo("#chat-message-board"),App.Event.Touch.autoScroll("#chat-message-board"),App.Event.Touch.showLoader("#loader"),setTimeout(function(){App.Event.Touch.displayBotQuestion(s,"#chat-message-board",r),App.Event.Touch.autoScroll("#chat-message-board")},delayResponse)},delayResponse):App.Event.Touch.displayBotQuestion(s,"#chat-message-board",r))},displayBotQuestion:function(t,e,n){var o="<p class='bot-msg'>"+t+"</p>",i=n;setTimeout(function(){$(o).appendTo(e),App.Elements.chatOptions.find(".button-group.qid-"+i).addClass("active"),App.Event.Touch.autoScroll("#chat-message-board"),App.Event.Touch.hideLoader("#loader")},delayResponse)},displayBotResponse:function(t,e,n,o,i){var a="<p class='bot-msg'>"+t+"</p>",s=e,r=n,c=i,p=0;setTimeout(function(){$(a).appendTo(o),App.Event.Touch.autoScroll("#chat-message-board"),App.Event.Touch.showLoader("#loader"),0!=jQuery.trim(s).length?App.Event.Touch.displayBotMsg(p,s,r,c):"##endConvo"!=r?App.Event.Touch.displayBotQuestion(r,"#chat-message-board",c):(App.Event.Touch.hideLoader("#loader"),setTimeout(function(){App.Event.Touch.showEndConvo("#endConvo")},delayResponse))},delayResponse)},displayUserResponse:function(t,e){$(t).appendTo(e),$(App.Elements.chatOptionsBtnGrp).removeClass("active"),App.Event.Touch.autoScroll("#chat-message-board")},autoScroll:function(t){$(t).animate({scrollTop:$(t).prop("scrollHeight")},500)},showLoader:function(t){$(t).fadeIn()},showEndConvo:function(t){$(t).fadeIn()},autoScrollToBotPage:function(){setTimeout(function(){},1e3)},hideLoader:function(t){$(t).fadeOut()},hideTutorial:function(){App.Elements.tutorial.removeClass("active")}}}},$(function(){App.Init()});