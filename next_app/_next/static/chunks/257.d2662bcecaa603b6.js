"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[257],{2257:function(e,t,n){n.r(t);var o=n(5893),r=n(7294),a=n(5152),i=n.n(a);let l=()=>{let e=(0,r.useRef)(null),[t,a]=(0,r.useState)(null);return(0,r.useEffect)(()=>{if(!t)return(async()=>{let o,r,i;console.log("Initializing Phaser...");let l=(await Promise.all([n.e(989),n.e(454)]).then(n.t.bind(n,2260,23))).default;console.log("Phaser imported successfully:",l);let s={type:l.AUTO,width:800,height:600,parent:"game-container",backgroundColor:"#9CCC65",scene:{preload:function(){this.load.image("pixel","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAACklEQVR4nGMAAQAABQABDQottAAAAABJRU5ErkJggg==")},create:function(){console.log("Create function called");let e=s.width/10;i=this.add.group();for(let t=0;t<8;t++){d[t]=[];for(let n=0;n<10;n++)d[t][n]=.2>Math.random()?c:"\uD83D\uDFE9",i.add(this.add.text(n*e+e/2,t*e+e/2,d[t][n],{fontSize:"".concat(.7*e,"px")}).setOrigin(.5))}console.log("Terrain created:",d);let t=function(e){let t,n;do t=Math.floor(Math.random()*e[0].length),n=Math.floor(Math.random()*e.length);while(e[n][t]===c);return{x:t,y:n}}(d);(o=this.add.text(t.x*e+e/2,t.y*e+e/2,"\uD83E\uDD20",{fontSize:"".concat(.7*e,"px")}).setOrigin(.5)).gridX=t.x,o.gridY=t.y,console.log("Player created:",o),console.log("Cursor keys set up:",r=this.input.keyboard.createCursorKeys()),console.log("Create function completed")},update:function(){l.Input.Keyboard.JustDown(r.left)?u(-1,0):l.Input.Keyboard.JustDown(r.right)?u(1,0):l.Input.Keyboard.JustDown(r.up)?u(0,-1):l.Input.Keyboard.JustDown(r.down)&&u(0,1)}}};console.log("Game configuration:",s);let c="\uD83C\uDF33",d=[];function u(e,t){let n=o.gridX+e,r=o.gridY+t;if(n>=0&&n<d[0].length&&r>=0&&r<d.length&&d[r][n]!==c){let e=s.width/d[0].length;o.x=n*e+e/2,o.y=r*e+e/2,o.gridX=n,o.gridY=r}}if(e.current&&!t){console.log("Creating new Phaser game instance");let e=new l.Game(s);a(e),console.log("Phaser game instance created:",e)}})().catch(e=>{console.error("Error initializing Phaser:",e)}),()=>{t&&(console.log("Destroying Phaser game instance"),t.destroy(!0),a(null))}},[t]),(0,o.jsxs)("div",{className:"nes-container with-title",children:[(0,o.jsx)("p",{className:"title",children:"Emoji Terrain Game"}),(0,o.jsx)("div",{ref:e,id:"game-container",style:{width:"800px",height:"600px",border:"1px solid #000"}}),(0,o.jsx)("div",{className:"nes-container is-rounded",style:{marginTop:"1rem"},children:(0,o.jsx)("p",{children:"Use arrow keys to move the cowboy emoji around the terrain!"})})]})};t.default=i()(()=>Promise.resolve(l),{ssr:!1})}}]);